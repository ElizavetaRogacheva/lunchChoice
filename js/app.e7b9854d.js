(function(){"use strict";var e={5846:function(e,a,t){var n=t(9242),s=t(3396);function o(e,a,t,n,o,c){const l=(0,s.up)("HomePage");return(0,s.wg)(),(0,s.j4)(l)}var c=t(7139);const l=e=>((0,s.dD)("data-v-dc0c9f2c"),e=e(),(0,s.Cn)(),e),i={key:0,class:"container"},r=l((()=>(0,s._)("h1",{class:"main-title"},"Куда пойти на обед?",-1))),d={class:"list"},p={class:"random"};function u(e,a,t,n,o,l){const u=(0,s.up)("CafeItem"),f=(0,s.up)("DialogPlace"),m=(0,s.up)("RandomBtn"),h=(0,s.up)("LoadScreen"),v=(0,s.up)("ErrorScreen");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoaded&&!o.isError?((0,s.wg)(),(0,s.iD)("div",i,[r,(0,s._)("ul",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.places,(e=>((0,s.wg)(),(0,s.j4)(u,{key:e.id,place:e,onSetId:l.openModal},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.name),1)])),_:2},1032,["place","onSetId"])))),128))]),(0,s.Wm)(f,{isVisible:o.modalVisible,"onUpdate:isVisible":a[0]||(a[0]=e=>o.modalVisible=e),placeId:o.currentPlaceId,placesCount:this.places.length},null,8,["isVisible","placeId","placesCount"]),(0,s._)("div",p,[(0,s.Wm)(m,{onSetId:l.openModal,placesCount:this.places.length},{default:(0,s.w5)((()=>[(0,s.Uk)("Случайный выбор")])),_:1},8,["onSetId","placesCount"])])])):(0,s.kq)("",!0),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(h,{key:1})),o.isError?((0,s.wg)(),(0,s.j4)(v,{key:2})):(0,s.kq)("",!0)],64)}const f=e=>((0,s.dD)("data-v-0104a24d"),e=e(),(0,s.Cn)(),e),m={class:"list__item"},h=["src","alt"],v={key:1,class:"cafe__no-img"},_=f((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7.828 5l-1-1H22v15.172l-1-1v-.69l-3.116-3.117-.395.296-.714-.714.854-.64a.503.503 0 0 1 .657.046L21 16.067V5zM3 20v-.519l2.947-2.947a1.506 1.506 0 0 0 .677.163 1.403 1.403 0 0 0 .997-.415l2.916-2.916-.706-.707-2.916 2.916a.474.474 0 0 1-.678-.048.503.503 0 0 0-.704.007L3 18.067V5.828l-1-1V21h16.172l-1-1zM17 8.5A1.5 1.5 0 1 1 15.5 7 1.5 1.5 0 0 1 17 8.5zm-1 0a.5.5 0 1 0-.5.5.5.5 0 0 0 .5-.5zm5.646 13.854l.707-.707-20-20-.707.707z"}),(0,s._)("path",{fill:"none",d:"M0 0h24v24H0z"})],-1))),g=[_],w={class:"cafe__info"},b={class:"cafe__name"},k={key:0,class:"cafe__address"},I=f((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),(0,s._)("circle",{cx:"12",cy:"10",r:"3"})],-1)));function y(e,a,t,n,o,l){return(0,s.wg)(),(0,s.iD)("li",m,[(0,s._)("div",{onClick:a[0]||(a[0]=(...e)=>l.setCurrentId&&l.setCurrentId(...e)),class:"cafe"},[t.place.photo?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"cafe__img",src:t.place.photo,alt:t.place.name,width:"200px"},null,8,h)):((0,s.wg)(),(0,s.iD)("div",v,g)),(0,s._)("div",w,[(0,s._)("span",b,(0,c.zw)(t.place.name),1),t.place.address?((0,s.wg)(),(0,s.iD)("p",k,[I,(0,s._)("span",null,(0,c.zw)(t.place.address),1)])):(0,s.kq)("",!0)])])])}var C={name:"CafeItem",props:{place:Object},methods:{setCurrentId(){this.$emit("setId",this.place.id)}},emits:{setId:()=>!0}},D=t(89);const j=(0,D.Z)(C,[["render",y],["__scopeId","data-v-0104a24d"]]);var z=j;const P=e=>((0,s.dD)("data-v-0213d4f8"),e=e(),(0,s.Cn)(),e),M={key:0,class:"modal"},O={class:"modal-content"},V={class:"modal-container"},E=P((()=>(0,s._)("span",{class:"modal-title"},"Куда пойти на обед?",-1))),L={key:0,class:"place"},S=["src","alt"],x={class:"place-info"},R={class:"place-name"},$={class:"place-address"},B={class:"place-landmark"},Z={class:"place-cuisine"},q={class:"place-distance"},H={class:"place-time"},U={class:"place-lunch"};function W(e,a,t,n,o,l){const i=(0,s.up)("ErrorScreen"),r=(0,s.up)("RandomBtn");return t.isVisible?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",O,[(0,s._)("div",V,[E,(0,s._)("button",{class:"modal-close-btn",onClick:a[0]||(a[0]=(...e)=>l.closeModal&&l.closeModal(...e)),"aria-label":"Закрыть"}),o.isError?((0,s.wg)(),(0,s.j4)(i,{key:1})):((0,s.wg)(),(0,s.iD)("div",L,[o.place.photo?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"place-img",src:o.place.photo,alt:o.place.name},null,8,S)):(0,s.kq)("",!0),(0,s._)("div",x,[(0,s._)("p",R,(0,c.zw)(o.place.name),1),(0,s._)("p",$,(0,c.zw)(o.place.address),1),(0,s._)("p",B,(0,c.zw)(o.place.landmark),1),(0,s._)("p",Z,(0,c.zw)(o.place.cuisine?`Тип кухни: ${o.place.cuisine}`:""),1),(0,s._)("p",q,(0,c.zw)(o.place.distance?`Расстояние ${o.place.distance} м.`:""),1),(0,s._)("p",H,(0,c.zw)(o.place.time?`Идти ${o.place.time} мин.`:""),1),(0,s._)("p",U,(0,c.zw)(o.place.business_lunch?`Есть бизнес ланчи! Стоимость ${o.place.price} ₽`:""),1)])])),(0,s.Wm)(r,{isDisabled:!o.isLoaded,onSetId:l.getPlaceInfo,placesCount:t.placesCount},{default:(0,s.w5)((()=>[(0,s.Uk)("Хочу другое")])),_:1},8,["isDisabled","onSetId","placesCount"])])])])):(0,s.kq)("",!0)}const A={class:"random-container"},N=["disabled"];function T(e,a,t,n,o,c){return(0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("button",{disabled:t.isDisabled,class:"random-btn",onClick:a[0]||(a[0]=(...e)=>c.setRandomPlace&&c.setRandomPlace(...e))},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],8,N)])}var Y={props:{placesCount:null,isDisabled:{type:Boolean,default:!1}},methods:{setRandomPlace(){this.$emit("setId",this.getRandomInt())},getRandomInt(){return Math.floor(Math.random()*this.placesCount)+1}},emits:{setId:()=>!0}};const F=(0,D.Z)(Y,[["render",T],["__scopeId","data-v-2664aa47"]]);var K=F;const G={class:"error"};function J(e,a,t,n,o,c){return(0,s.wg)(),(0,s.iD)("div",G,"Что-то пошло не так:( попробуйте снова")}var Q={};const X=(0,D.Z)(Q,[["render",J],["__scopeId","data-v-15896d50"]]);var ee=X,ae={data(){return{isLoaded:!1,place:Object,isError:!1}},components:{RandomBtn:K,ErrorScreen:ee},props:{isVisible:{type:Boolean,default:!1},placeId:Number,placesCount:Number},methods:{closeModal(){this.$emit("update:isVisible",!1)},getPlaceInfo(e){this.isLoaded=!1;const a=`https://bandaumnikov.ru/api/test/site/get-view?id=${e}`;fetch(a).then((e=>{e.json().then((e=>{this.place=e.data}))})).catch((()=>{this.isError=!0})).finally((()=>{this.isLoaded=!0}))}},watch:{placeId(e){this.getPlaceInfo(e)}}};const te=(0,D.Z)(ae,[["render",W],["__scopeId","data-v-0213d4f8"]]);var ne=te;const se={class:"loading"};function oe(e,a,t,n,o,c){return(0,s.wg)(),(0,s.iD)("div",se,"Загрузка...")}var ce={};const le=(0,D.Z)(ce,[["render",oe],["__scopeId","data-v-68b448d4"]]);var ie=le,re={components:{CafeItem:z,DialogPlace:ne,RandomBtn:K,LoadScreen:ie,ErrorScreen:ee},data(){return{currentPlaceId:null,modalVisible:!1,isLoaded:!1,places:[],isError:!1}},methods:{openModal(e){this.currentPlaceId=e,this.modalVisible=!0},getData(){const e="https://bandaumnikov.ru/api/test/site/get-index";fetch(e).then((e=>{e.json().then((e=>{this.places=e.data}))})).catch((()=>{this.isError=!0})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const de=(0,D.Z)(re,[["render",u],["__scopeId","data-v-dc0c9f2c"]]);var pe=de,ue={name:"App",components:{HomePage:pe}};const fe=(0,D.Z)(ue,[["render",o]]);var me=fe;(0,n.ri)(me).mount("#app")}},a={};function t(n){var s=a[n];if(void 0!==s)return s.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,s,o){if(!n){var c=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],o=e[d][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||c>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[i])}))?n.splice(i--,1):(l=!1,o<c&&(c=o));if(l){e.splice(d--,1);var r=s();void 0!==r&&(a=r)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,s,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var s,o,c=n[0],l=n[1],i=n[2],r=0;if(c.some((function(a){return 0!==e[a]}))){for(s in l)t.o(l,s)&&(t.m[s]=l[s]);if(i)var d=i(t)}for(a&&a(n);r<c.length;r++)o=c[r],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},n=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(5846)}));n=t.O(n)})();
//# sourceMappingURL=app.e7b9854d.js.map